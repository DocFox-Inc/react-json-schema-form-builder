(this["webpackJsonp@ginkgo-bioworks/react-json-schema-form-builder-example"]=this["webpackJsonp@ginkgo-bioworks/react-json-schema-form-builder-example"]||[]).push([[0],{284:function(e,t,a){e.exports=a(564)},564:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(19),o=a.n(i),c=a(92),l=a(59),s=a(60),m=a(65),d=a(64),u=a(575),p=a(582),h=a(568),f=a(569),g=a(570),b=a(571),y=a(26),v=a(283),E=a(51),O=a(566),x=a(581),j=a(567),C=a(572),N=a(573),k=a(574),w=a(21),D=a(5),S=a.n(D),U=a(42);function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var I=Object(w.a)({checkbox:{"& *":{display:"inline-block"},"& input":{marginRight:"5px"}}}),A=function(e){var t=e.onChangeValue,a=e.value,n=void 0===a?"":a,i=e.isChecked,o=void 0!==i&&i,c=e.label,l=void 0===c?"":c,s=e.use,m=void 0===s?"action":s,d=e.disabled,u=void 0!==d&&d,p=e.id,h=void 0===p?"":p,f=e.dataTest,g=void 0===f?"":f,b=e.labelClassName,y=void 0===b?"":b,v=I(),E=S()("fb-checkbox",{"edit-checkbox":!u&&"edit"===m,"action-checkbox":!u&&"action"===m,"disabled-checked-checkbox":u&&o,"disabled-unchecked-checkbox":u&&!o}),O=""!==h?h:l,x=""!==O?O:null;return r.a.createElement("div",{"data-test":"checkbox",className:E+" "+v.checkbox},r.a.createElement("input",{type:"checkbox",id:x,"data-test":g||void 0,onChange:u?function(){}:t,value:n,disabled:u,checked:o}),r.a.createElement("div",{className:"checkbox-overlay"},l&&r.a.createElement("label",{htmlFor:x,className:y||void 0},l)))},T=Object(w.a)({collapseElement:{"& .disabled":{"i.toggle-collapse":{cursor:"default"}},"& h4":{marginTop:"7px",padding:"13px 10px 10px 10px"},"& i.toggle-collapse":{fontSize:"2.3rem",margin:"17px",cursor:"pointer",marginLeft:"0"}}}),_=function(e){var t=S()({"toggle-collapse":!0,fas:!0,"fa-caret-down":e.isOpen,"fa-caret-right":!e.isOpen}),a=S()("collapse-element "+(e.className||"")+" "+T().collapseElement,{disabled:e.disableToggle});return r.a.createElement("div",{className:a},r.a.createElement("div",{className:"d-flex"},r.a.createElement("i",{onClick:e.disableToggle?function(){}:e.toggleCollapse,className:t}),r.a.createElement("h4",null,e.title)),r.a.createElement(O.a,{isOpen:e.isOpen},r.a.createElement("div",null,e.children)))};function M(e){var t=e.label,a=e.value,n=e.checked,i=e.name,o=e.onChange,c=e.required,l=e.disabled,s=e.autoFocus,m=S()("fb-radio-button",{disabled:l});return r.a.createElement("label",{className:m,key:a},e.children,r.a.createElement("input",{type:"radio",name:i,value:a,checked:n,required:c,disabled:l,autoFocus:s,onChange:function(){return o(a)}}),r.a.createElement("span",{className:"fb-custom-radio-button"}),t)}var q=Object(w.a)({radio:{"& input":{marginRight:"5px"}}});function B(e){var t=e.options,a=e.defaultValue,n=e.onChange,i=e.horizontal,o=e.id,c=e.autoFocus,l=e.disabled,s=Math.random().toString(),m=q(),d=S()("fb-radio-group",{horizontal:i});return r.a.createElement("div",{id:o,className:d+" "+m.radio},t.map((function(e,t){return r.a.createElement(M,{value:e.value,label:e.label,id:o,name:s,key:e.value,checked:e.value===a,autoFocus:c&&1===t,onChange:n,disabled:l})})))}var H={alert:"fas fa-asterisk",help:"fa fa-question-circle"},R=Object(w.a)({toolTip:{color:"white","background-color":"black"}});function $(e){var t=e.text,a=e.type,n=e.id,i=R();return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{textDecoration:"underline",color:"blue"},href:"#",id:n},r.a.createElement("i",{className:H[a]})),r.a.createElement(x.a,{autohide:!1,className:i.toolTip,placement:"top",target:n},t))}function z(e){var t=e.parameters;if(t.enum&&t.dependents&&t.dependents.length&&t.dependents[0].value){var a=new Set([]);t.dependents.forEach((function(e){e.value&&e.value.enum&&e.value.enum.forEach((function(e){return a.add(e)}))}));var r=[];return Array.isArray(t.enum)&&t.enum.forEach((function(e){a.has(e)||r.push(e)})),0===r.length?null:Object(n.createElement)(n.Fragment,null,Object(n.createElement)("p",null,"Warning! The following values do not have associated dependency values:"," ",Object(n.createElement)($,{id:t.path+"_valuewarning",type:"help",text:"Each possible value for a value-based dependency must be defined to work properly"})),Object(n.createElement)("ul",null,r.map((function(e,t){return Object(n.createElement)("li",{key:t},e)}))))}return null}function P(e){var t=e.possibleChoices,a=e.chosenChoices,r=e.onChange,i=e.placeholder,o=e.path;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("ul",null,a.map((function(e,t){return Object(n.createElement)("li",{key:o+"_neighbor_"+t},e," ",Object(n.createElement)("i",{className:"fa fa-times",onClick:function(){return r([].concat(a.slice(0,t),a.slice(t+1)))}}))}))),Object(n.createElement)(U.a,{value:{value:"",label:""},placeholder:i,options:t.filter((function(e){return!a.includes(e)})).map((function(e){return{value:e,label:e}})),onChange:function(e){r([].concat(a,[e.value]))},className:"card-modal-select"}))}function J(e){for(var t=e.initialValues,a=e.names,r=e.showNames,i=e.onChange,o=e.type,c=[],l=function(e){var l=t[e],s=""+l;a&&e<a.length&&(s=a[e]),c.push(Object(n.createElement)("div",{key:e,className:"card-enum-option"},Object(n.createElement)(j.a,{value:void 0===l||null===l?"":l,placeholder:"Possible Value",key:"val-"+e,type:"string"===o?"text":"number",onChange:function(n){var r;switch(o){case"string":r=n.target.value;break;case"number":case"integer":r=parseFloat(n.target.value),Number.isInteger(r)&&(r=parseInt(n.target.value,10)),Number.isNaN(r)&&(r="string"===o?"":0);break;default:throw new Error("Enum called with unknown type "+o)}i([].concat(t.slice(0,e),[r],t.slice(e+1)),a)},className:"card-text"}),Object(n.createElement)(j.a,{value:s||"",placeholder:"Name",key:"name-"+e,type:"text",onChange:function(n){a&&i(t,[].concat(a.slice(0,e),[n.target.value],a.slice(e+1)))},className:"card-text",style:{display:r?"initial":"none"}}),Object(n.createElement)("i",{className:"fa fa-trash",onClick:function(){i([].concat(t.slice(0,e),t.slice(e+1)),a?[].concat(a.slice(0,e),a.slice(e+1)):void 0)}})))},s=0;s<t.length;s+=1)l(s);return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"card-enum-header"},Object(n.createElement)("p",null," Value "),Object(n.createElement)("h5",{style:{display:r?"initial":"none"}}," ","Display Label"," ")),c,Object(n.createElement)("i",{className:"fa fa-plus",onClick:function(){i([].concat(t,["string"===o?"":0]),a?[].concat(a,[""]):void 0)}}))}function L(e){return e?JSON.parse(e):{}}function W(e){return e?JSON.stringify(e):"{}"}function V(e,t){return t[e].type}function K(e){var t={};return Object.keys(e).forEach((function(a){e[a].matchIf.forEach((function(e){e.types.forEach((function(n){var r="type:"+(n||"")+";widget:"+(e.widget||"")+";field:"+(e.field||"")+";format:"+(e.format||"")+";$ref:"+(e.$ref?"true":"false")+";enum:"+(e.enum?"true":"false");if(t[r])throw new Error("Duplicate hash: "+r);t[r]=a}))}))})),t}function G(e,t){var a="type:"+(e.dataOptions.type||"")+";widget:"+(e.uiOptions["ui:widget"]||"")+";field:"+(e.uiOptions["ui:field"]||"")+";format:"+(e.dataOptions.format||"")+";$ref:"+(void 0!==e.$ref?"true":"false")+";enum:"+(e.dataOptions.enum?"true":"false"),n=t[a];return n||(e.$ref?"ref":(console.error("No match for card': "+a+" among set"),"shortAnswer"))}var Q=new Set(["title","description","enum","minLength","maxLength","multipleOf","minimum","maximum","format","exclusiveMinimum","exclusiveMaximum","type","default","pattern","required","properties","items","definitions","$ref","minItems","maxItems","enumNames","dependencies","$id"]),Y=new Set(["ui:order","ui:widget","ui:autofocus","ui:autocomplete","ui:option","ui:field","items","definitions"]);function X(e,t,a){var n=[],r=[],i=[],o=[];Object.keys(a).forEach((function(e){a[e].matchIf.forEach((function(e){e.widget&&!r.includes(e.widget)&&r.push(e.widget),e.field&&!i.includes(e.field)&&i.push(e.field)})),a[e].possibleOptions&&Array.isArray(a[e].possibleOptions)&&o.push.apply(o,a[e].possibleOptions)}));var c=new Set(r),l=new Set(i),s=new Set(o);return e&&"object"===typeof e&&"object"===e.type?n.push.apply(n,function(e,t,a,n,r){var i=[];return e&&"object"===typeof e&&Object.keys(e).forEach((function(e){Q.has(e)||"properties"===e||i.push("Unrecognized Object Property: "+e)})),t&&"object"===typeof t&&Object.keys(t).forEach((function(t){var a=!1;e.properties&&Object.keys(e.properties).includes(t)&&(a=!0),e.dependencies&&Object.keys(e.dependencies).forEach((function(n){Object.keys(e.dependencies[n]).forEach((function(r){"oneOf"===r?e.dependencies[n].oneOf.forEach((function(e){e.properties&&Object.keys(e.properties).includes(t)&&(a=!0)})):"properties"===r&&Object.keys(e.dependencies[n].properties).includes(t)&&(a=!0)}))})),a||Y.has(t)||i.push("Unrecognized UI schema property: "+t)})),e.properties&&Object.entries(e.properties).forEach((function(e){var o=e[0],c=e[1],l=o.replace(/\W/g,"_");o!==l&&i.push("Improper name '"+o+"': using '"+l+"' instead"),c&&"object"===typeof c&&c.type&&"object"!==c.type?(["array","string","integer","number","boolean"].includes(c.type)||i.push("Unrecognized type: "+c.type+" in "+o),Object.keys(c).forEach((function(e){Q.has(e)||i.push("Property Parameter: "+e+" in "+o)}))):Object.keys(c).forEach((function(e){Q.has(e)||i.push("Property Parameter: "+e+" in "+o)})),t&&t[o]&&c&&(!c.type||"object"!==c.type)&&Object.keys(t[o]).forEach((function(e){Y.has(e)||i.push("UI Property: "+e+" for "+o),"ui:widget"!==e||a.has(t[o][e])||i.push("UI Widget: "+t[o][e]+" for "+o),"ui:field"!==e||n.has(t[o][e])||i.push("UI Field: "+t[o][e]+" for "+o),"ui:option"===e&&Object.keys(t[o]["ui:option"]).forEach((function(e){r.has(e)||i.push("UI Property: ui:option."+e+" for "+o)}))}))})),i}(e,t,c,l,s)):n.push("jsonSchema form is not of type object"),n}function Z(e,t,a,n,r,i,o){var c=F({},a),l={},s=t&&"object"===typeof t?t:{};if(void 0!==s.$ref&&r){var m="string"===typeof s.$ref?s.$ref.split("/"):[];"#"===m[0]&&"definitions"===m[1]&&r[m[2]]&&(s=F({},s,r[m[2]])),c=F({},(i||{})[m[2]]||{},c)}if(l.name=e,l.required=n.includes(e),l.$ref="string"===typeof s.$ref?s.$ref:void 0,s.type&&"object"===s.type)l.schema=s,l.uischema=c||{},l.propType="section";else{l.dataOptions=s,l.uiOptions=c||{};var d=Object.keys(l.dataOptions);Object.keys(l.uiOptions).forEach((function(e){d.includes(e)&&(l.uiOptions["ui:*"+e]=l.uiOptions[e])})),l.dataOptions.category=G(l,o),l.propType="card"}return l}function ee(e){var t=e.schema,a=e.uischema,n=e.definitionData,r=e.definitionUi,i=e.categoryHash;if(!t.properties)return[];var o={},c=t.required?t.required:[];Object.entries(t.properties).forEach((function(e){var t=e[0],l=e[1],s={},m=l&&"object"===typeof l?l:{};if(void 0!==m.$ref&&n){if(m.$ref&&!m.$ref.startsWith("#/definitions"))throw new Error("Invalid definition, not at '#/definitions': "+m.$ref);var d=void 0!==m.$ref?m.$ref.split("/"):[];"#"===d[0]&&"definitions"===d[1]&&n[d[2]]&&(m=F({},m,n[d[2]]));var u=(r||{})[d[2]];a[t]=F({},u||{},a[t])}if(s.name=t,s.required=c.includes(t),s.$ref=m.$ref,m.type&&"object"===m.type)s.schema=m,s.uischema=a[t]||{},s.propType="section";else{s.dataOptions=m,s.uiOptions=a[t]||{};var p=Object.keys(s.dataOptions);Object.keys(s.uiOptions).forEach((function(e){p.includes(e)&&(s.uiOptions["ui:*"+e]=s.uiOptions[e])})),s.dataOptions.category=G(s,i),s.propType="card"}o[s.name]=s})),t.dependencies&&Object.keys(t.dependencies).forEach((function(e){var l=t.dependencies[e];if(l.oneOf){var s=0;l.oneOf.forEach((function(t){o[e].dependents||(o[e].dependents=[]),o[e].dependents.push({children:[],value:t.properties[e]});var l=t.required||[];Object.entries(t.properties).forEach((function(t){var m=t[0],d=t[1];if(!Object.keys(o).includes(m)){var u=Z(m,d,a[m],c,n,r,i);u.required=l.includes(u.name),o[u.name]=u}if(m!==e){var p=o[m];p.dependent=!0,p.parent=e,o[e].dependents[s].children.push(m)}})),s+=1}))}else if(l.properties){var m=l.required||[];Object.entries(l.properties).forEach((function(t){var l=t[0],s=Z(l,t[1],a[l],c,n,r,i);s.required=m.includes(s.name),s.dependent=!0,s.parent=e,o[s.name]=s,o[e].dependents?o[e].dependents[0].children.push(l):o[e].dependents=[{children:[l]}]}))}else console.error("unsupported dependency type encountered")}));var l=[];if(a["ui:order"]){var s=[];Object.keys(o).forEach((function(e){a["ui:order"].includes(e)||s.push(o[e])})),a["ui:order"].forEach((function(e){"*"===e?s.forEach((function(e){l.push(e)})):o[e]&&l.push(o[e])}))}else Object.keys(o).forEach((function(e){l.push(o[e])}));return function(e){var t=e.map((function(e){return e.name}));e.map((function(e){var a=e;return a.neighborNames=t,a}))}(l),l}function te(e){if(!e.properties)return 0;var t={},a=0;return Object.entries(e.properties).forEach((function(e){var n=e[0];t[n]={},a+=1})),e.dependencies&&Object.keys(e.dependencies).forEach((function(n){var r=e.dependencies[n];if(r.oneOf){var i=0;r.oneOf.forEach((function(e){t[n].dependents||(t[n].dependents=[]),t[n].dependents.push({children:[],value:e.properties[n]}),Object.entries(e.properties).forEach((function(e){var r=e[0];if(Object.keys(t).includes(r)||(t[r]={},a+=1),r!==n){var o=t[r];o.dependent=!0,o.parent=n,t[n].dependents[i].children.push(r)}})),i+=1}))}else r.properties?Object.entries(r.properties).forEach((function(e){var r=e[0];t[r]={},a+=1,t[n].dependents?t[n].dependents[0].children.push(r):t[n].dependents=[{children:[r]}]})):console.error("unsupported dependency type encountered")})),a}function ae(e){if(void 0!==e.$ref)return{$ref:e.$ref};if("card"===e.propType){if("section"===e.dataOptions.category)return{type:"object"};var t={};return Object.keys(e.dataOptions).forEach((function(a){["category","hideKey","path","definitionData","definitionUi","allFormInputs"].includes(a)||""===e.dataOptions[a]||(t[a]=e.dataOptions[a])})),t}if("section"===e.propType)return e.schema;throw new Error("Element that is neither card, section, nor ref")}function ne(e){if(!e)return{};for(var t={},a={},n={},r={},i=new Set([]),o=0;o<e.length;o+=1){var c=e[o];r[c.name]=F({},c),c.dependents&&c.dependents.forEach((function(e){e.children.forEach((function(e){i.add(e)}))}))}return Object.keys(r).forEach((function(e){var t=r[e];if(t.dependents&&t.dependents[0])if(t.dependents[0].value)n[e]={oneOf:t.dependents.map((function(t){var a,n={},i=[];return t.children.forEach((function(e){r[e]&&(n[e]=ae(r[e]),r[e].required&&i.push(e))})),{properties:F((a={},a[e]=t.value,a),n),required:i}}))};else{var o={},c=[];t.dependents[0].children.forEach((function(e){o[e]=ae(r[e]),r[e].required&&c.push(e)})),n[e]={properties:o,required:c}}i.has(e)||(a[t.name]=ae(t))})),t.properties=a,t.dependencies=n,t.required=e.filter((function(e){var t=e.required,a=e.dependent;return t&&!a})).map((function(e){return e.name})),t}function re(e,t){if(!e)return{};var a={},n=[],r=t;return e.forEach((function(e){if(n.push(e.name),void 0!==e.$ref){var t="string"===typeof e.$ref?e.$ref.split("/"):[];r&&r[t[2]]&&(a[e.name]=r[t[2]])}else"card"===e.propType&&e.uiOptions?Object.keys(e.uiOptions).forEach((function(t){a[e.name]||(a[e.name]={}),t.startsWith("ui:*")?a[e.name][t.substring(4)]=e.uiOptions[t]:a[e.name][t]=e.uiOptions[t]})):"section"===e.propType&&e.uischema&&(a[e.name]=e.uischema)})),a["ui:order"]=n,a}function ie(e,t){var a=t.schema,n=t.uischema,r=t.onChange,i=t.definitionUi,o=F({},(n||{}).definitions?{definitions:n.definitions}:{},re(e,i)),c=F({},a,ne(e));c.type="object",r(c,o)}function oe(e){var t=e.schema,a=e.uischema,n=e.onChange,r=e.definitionData,i=e.definitionUi,o=e.index,c=ee({schema:t,uischema:a,definitionData:r,definitionUi:i,categoryHash:e.categoryHash}),l=c.map((function(e){return e.name})),s=l.length>0?Math.max.apply(Math,l.map((function(e){return e.startsWith("newInput")?Number.parseInt(e.charAt(8),10):0})))+1:1,m={name:"newInput"+s,required:!1,dataOptions:{title:"New Input "+s,type:"string",default:""},uiOptions:{},propType:"card",schema:{},uischema:{},neighborNames:[]};void 0!==o&&null!==o?c.splice(o+1,0,m):c.push(m),ie(c,{schema:t,uischema:a,definitionData:r,definitionUi:i,onChange:n})}function ce(e){var t=e.schema,a=e.uischema,n=e.onChange,r=e.definitionData,i=e.definitionUi,o=e.index,c=ee({schema:t,uischema:a,definitionData:r,definitionUi:i,categoryHash:e.categoryHash}),l=c.map((function(e){return e.name})),s=l.length>0?Math.max.apply(Math,l.map((function(e){return e.startsWith("newInput")?Number.parseInt(e.charAt(8),10):0})))+1:1,m={name:"newInput"+s,required:!1,dataOptions:{title:"New Input "+s,type:"object",default:""},uiOptions:{},propType:"section",schema:{title:"New Input "+s,type:"object"},uischema:{},neighborNames:[]};void 0!==o&&null!==o?c.splice(o+1,0,m):c.push(m),ie(c,{schema:t,uischema:a,definitionData:r,definitionUi:i,onChange:n})}function le(e){var t=e.schemaData,a=e.uiSchemaData,r=e.onChange,i=e.definitionData,o=e.definitionUi,c=e.hideKey,l=e.path,s=e.cardOpenArray,m=e.setCardOpenArray,d=e.allFormInputs,u=e.mods,p=e.categoryHash,h=e.Card,f=e.Section,g=L(W(t)),b=L(W(a));if(!g.properties)return[];var y=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});return y.map((function(e,t){var a=s&&t<s.length&&s[t]||!1;if("card"===e.propType){var v=function(e,t){return t[e].modalBody||function(){return null}}(e.dataOptions.category||"string",d);return Object(n.createElement)(h,{componentProps:F({name:y[t].name,required:y[t].required,hideKey:c,path:l+"_"+y[t].name,definitionData:i,definitionUi:o,neighborNames:y[t].neighborNames,dependents:y[t].dependents,dependent:y[t].dependent,parent:y[t].parent},y[t].uiOptions,y[t].dataOptions),key:l+"_"+y[t].name,TypeSpecificParameters:v,onChange:function(e){var a=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p}),n={},c={};if(Object.keys(e).forEach((function(t){t.startsWith("ui:")?t.startsWith("ui:*")?c[t.substring(4)]=e[t]:c[t]=e[t]:["name","required","neighborNames","dependents","dependent","parent"].includes(t)||(n[t]=e[t])})),"card"!==a[t].propType)throw new Error("Card editing non card element");var l=a[t];a[t]=F({},l,{dataOptions:n,uiOptions:c,required:e.required,dependents:e.dependents,dependent:e.dependent,parent:e.parent,name:e.name,$ref:e.$ref,propType:"card"}),ie(a,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})},onDelete:function(){var e=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});e.splice(t,1),m([].concat(s.slice(0,t),s.slice(t+1))),ie(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})},onMoveUp:function(){var e=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});if(0!==t){var a=e[t-1];e[t-1]=e[t],e[t]=a,ie(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})}},onMoveDown:function(){var e=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});if(t!==y.length-1){var a=e[t+1];e[t+1]=e[t],e[t]=a,ie(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})}},addElem:function(e){"card"===e?oe({schema:g,uischema:b,onChange:r,definitionData:i||{},definitionUi:o||{},index:t,categoryHash:p}):"section"===e&&ce({schema:g,uischema:b,onChange:r,definitionData:i||{},definitionUi:o||{},index:t,categoryHash:p}),m([].concat(s,[!1]))},cardOpen:a,setCardOpen:function(e){return m([].concat(s.slice(0,t),[e],s.slice(t+1)))},allFormInputs:d,mods:u})}return"section"===e.propType?Object(n.createElement)(f,{schema:e.schema,uischema:e.uischema,onChange:function(e,a,n){var c=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p}),l=c[t];c[t]=F({},l,{schema:e,uischema:a,propType:"section"}),n&&(c[t].$ref=n),ie(c,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})},onNameChange:function(a){var n=e;if(!y.map((function(e){return e.name})).includes(a)){var c=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});c[t]=F({},n,{name:a}),ie(c,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})}},onRequireToggle:function(){var a=e,n=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});n[t]=F({},a,{required:!a.required}),ie(n,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})},onDependentsChange:function(a){var n=e,c=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});c[t]=F({},n,{dependents:a}),ie(c,{schema:g,uischema:b,onChange:r,definitionData:i,definitionUi:o})},onDelete:function(){var e=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});e.splice(t,1),m([].concat(s.slice(0,t),s.slice(t+1))),ie(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})},onMoveUp:function(){var e=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});if(0!==t){var a=e[t-1];e[t-1]=e[t],e[t]=a,ie(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})}},onMoveDown:function(){var e=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});if(t!==y.length-1){var a=e[t+1];e[t+1]=e[t],e[t]=a,ie(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})}},name:e.name,key:l+"_"+y[t].name,required:e.required,path:l+"_"+e.name,definitionData:i||{},definitionUi:o||{},hideKey:c,reference:e.$ref,neighborNames:e.neighborNames,dependents:e.dependents,dependent:e.dependent,parent:e.parent,addElem:function(e){"card"===e?oe({schema:g,uischema:b,onChange:r,definitionData:i||{},definitionUi:o||{},index:t,categoryHash:p}):"section"===e&&ce({schema:g,uischema:b,onChange:r,definitionData:i||{},definitionUi:o||{},index:t,categoryHash:p}),m([].concat(s,[!1]))},cardOpen:a,setCardOpen:function(e){return m([].concat(s.slice(0,t),[e],s.slice(t+1)))},allFormInputs:d,categoryHash:p,mods:u}):Object(n.createElement)("div",null,Object(n.createElement)("h2",null," Error parsing element "))}))}function se(e,t){var a=t.schema,n=t.uischema,r=t.onChange,i=t.definitionData,o=t.definitionUi,c=t.categoryHash,l=e.source.index,s=e.destination.index,m=ee({schema:a,uischema:n,definitionData:i,definitionUi:o,categoryHash:c}),d=m[l];m[l]=m[s],m[s]=d,ie(m,{schema:a,uischema:n,definitionData:i||{},definitionUi:o||{},onChange:r})}function me(e,t,a,n){var r=e.definitions,i=t.definitions;ie(function e(t,a,n,r){var i=[];return t.forEach((function(t){if("section"===t.propType){var o=e(ee({schema:t.schema,uischema:t.uischema,definitionData:a,definitionUi:n,categoryHash:r}),a,n,r),c=F({},t.uischema,re(o,n)),l=F({},t.schema,ne(o)),s=F({},t,{schema:l,uischema:c});i.push(s)}else i.push(t)})),i}(ee({schema:e,uischema:t,definitionData:r,definitionUi:i,categoryHash:n}),r,i,n),{schema:e,uischema:t,definitionData:r,definitionUi:i,onChange:a})}function de(e){var t=e.possibility,a=e.onChange,r=e.parentEnums,i=e.parentType,o=e.parentName,c=e.parentSchema,l=e.path;if(t.value){if(r){var s="number"===typeof r[0]?"number":"string";if("string"===s)return Object(n.createElement)(P,{possibleChoices:r.map((function(e){return""+e})),chosenChoices:t.value.enum,onChange:function(e){return a(F({},t,{value:{enum:e}}))},placeholder:"Allowed value",path:l});if("number"===s)return Object(n.createElement)(P,{possibleChoices:r.map((function(e){return""+e})),chosenChoices:t.value.enum,onChange:function(e){return a(F({},t,{value:{enum:e.map((function(e){return Number.parseFloat(e)}))}}))},placeholder:"Allowed value",path:l})}if("boolean"===i)return Object(n.createElement)(A,{onChangeValue:function(){t.value.enum&&t.value.enum[0]?a(F({},t,{value:{enum:[!1]}})):a(F({},t,{value:{enum:[!0]}}))},isChecked:t.value.enum&&t.value.enum[0],label:o});if("object"===i){var m=t.value.enum;return Object(n.createElement)("div",null,m.map((function(e,r){return Object(n.createElement)("li",{key:l+"_possibleValue"+r},Object.keys(e).map((function(i){var o=e[i];return Object(n.createElement)("div",{key:i},Object(n.createElement)("h5",null,i,":"),{string:Object(n.createElement)(j.a,{value:o||"",placeholder:"String value",type:"string",onChange:function(e){var n,o=e.target.value,c=t.value.enum[r];a(F({},t,{value:{enum:[].concat(m.slice(0,r),[F({},c,(n={},n[i]=o,n))],m.slice(r+1))}}))},className:"card-modal-text"}),number:Object(n.createElement)(j.a,{value:o||"",placeholder:"Number value",type:"number",onChange:function(e){var n,o=Number.parseFloat(e.target.value),c=t.value.enum[r];a(F({},t,{value:{enum:[].concat(m.slice(0,r),[F({},c,(n={},n[i]=o,n))],m.slice(r+1))}}))},className:"card-modal-number"}),array:Object(n.createElement)(j.a,{value:JSON.stringify(o)||"",placeholder:"Array in JSON",type:"string",onChange:function(e){var n,c=o;try{c=JSON.parse(e.target.value)}catch(s){console.error("invalid JSON array input")}var l=t.value.enum[r];a(F({},t,{value:{enum:[].concat(m.slice(0,r),[F({},l,(n={},n[i]=c,n))],m.slice(r+1))}}))},className:"card-modal-text"}),object:Object(n.createElement)(j.a,{value:JSON.stringify(o)||"",placeholder:"Object in JSON",type:"string",onChange:function(e){var n,c=o;try{c=JSON.parse(e.target.value)}catch(s){console.error("invalid JSON object input")}var l=t.value.enum[r];a(F({},t,{value:{enum:[].concat(m.slice(0,r),[F({},l,(n={},n[i]=c,n))],m.slice(r+1))}}))},className:"card-modal-text"})}[typeof o])})),Object(n.createElement)("i",{className:"fa fa-times",onClick:function(){return a(F({},t,{value:{enum:[].concat(m.slice(0,r),m.slice(r+1))}}))}}))})),Object(n.createElement)("i",{className:"fa fa-plus",onClick:function(){var e={},n=c?L(c).properties:{};Object.keys(n).forEach((function(t){"number"===n[t].type||"integer"===n[t].type?e[t]=0:"array"===n[t].type||n[t].enum?e[t]=[]:"object"===n[t].type||n[t].properties?e[t]={}:e[t]=""})),a(F({},t,{value:{enum:[].concat(m,[e])}}))}}))}return Object(n.createElement)(J,{initialValues:t.value.enum,onChange:function(e){return a(F({},t,{value:{enum:e}}))},type:i||"string",showNames:!1})}return Object(n.createElement)("h5",null," Appear if defined ")}function ue(e){var t=e.possibility,a=e.neighborNames,r=e.path,i=e.onChange,o=e.onDelete,c=e.parentEnums,l=e.parentType,s=e.parentName,m=e.parentSchema;return Object(n.createElement)("div",{className:"form-dependency-condition"},Object(n.createElement)("h5",null,"Display the following:"," ",Object(n.createElement)($,{id:r+"_bulk",type:"help",text:"Choose the other form elements that depend on this one"})),Object(n.createElement)(P,{possibleChoices:a.filter((function(e){return e!==s}))||[],chosenChoices:t.children,onChange:function(e){return i(F({},t,{children:[].concat(e)}))},placeholder:"Choose a dependent...",path:r}),Object(n.createElement)("h5",null,'If "',s,'" has ',t.value?"the value:":"a value."),Object(n.createElement)("div",{style:{display:t.value?"initial":"none"}},Object(n.createElement)("br",null),Object(n.createElement)(de,{possibility:t,onChange:function(e){return i(e)},parentEnums:c,parentType:l,parentName:s,parentSchema:m,path:r})),Object(n.createElement)("br",null),Object(n.createElement)("i",{className:"fa fa-times",onClick:function(){return o()}}))}var pe=Object(w.a)({dependencyField:{"& i":{cursor:"pointer"},"& .fa-plus":{marginLeft:"1em"},"& h5":{fontSize:"1em"},"& .form-dependency-select":{fontSize:"0.75em",marginBottom:"1em"},"& .form-dependency-conditions":{textAlign:"left","& .form-dependency-condition":{padding:"1em",border:"1px solid gray",borderRadius:"4px",margin:"1em","& *":{textAlign:"initial"},"& .card-enum-option":{display:"flex",flexDirection:"row","& input":{width:"80%",marginRight:"1em",marginBottom:"0.5em"}}}},"& p":{fontSize:"0.75em"},"& .fb-radio-button":{display:"block"}}});function he(e){var t=e.parameters,a=e.onChange,r=pe(),i=function(e){var t=!0;return e&&Array.isArray(e)&&e.length>0?e.forEach((function(e){e.value&&e.value.enum||(t=!1)})):t=!1,t}(t.dependents||[]);return Object(n.createElement)("div",{className:"form-dependency "+r.dependencyField},Object(n.createElement)("h3",null,"Dependencies"," ",Object(n.createElement)($,{id:t.path+"_dependent",type:"help",text:"Control whether other form elements show based on this one"})),!!t.dependents&&t.dependents.length>0&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)(B,{defaultValue:i?"value":"definition",horizontal:!1,options:[{value:"definition",label:"Any value dependency"},{value:"value",label:"Specific value dependency"}],onChange:function(e){if(t.dependents){var n=[].concat(t.dependents);"definition"===e?t.dependents.forEach((function(e,t){n[t]=F({},e,{value:void 0})})):t.dependents.forEach((function(e,t){n[t]=F({},e,{value:{enum:[]}})})),a(F({},t,{dependents:n}))}}}),Object(n.createElement)($,{id:t.path+"_valuebased",type:"help",text:"Specify whether these elements should show based on this element's value"})," "),Object(n.createElement)(z,{parameters:t}),Object(n.createElement)("div",{className:"form-dependency-conditions"},t.dependents?t.dependents.map((function(e,r){return Object(n.createElement)(ue,{possibility:e,neighborNames:t.neighborNames||[],parentEnums:t.enum,parentType:t.type,parentName:t.name,parentSchema:t.schema,path:t.path,key:t.path+"_possibility"+r,onChange:function(e){var n=t.dependents?[].concat(t.dependents):[];n[r]=e,a(F({},t,{dependents:n}))},onDelete:function(){var e=t.dependents?[].concat(t.dependents):[];a(F({},t,{dependents:[].concat(e.slice(0,r),e.slice(r+1))}))}})})):"",Object(n.createElement)("i",{className:"fa fa-plus",id:t.path+"_adddependency",onClick:function(){var e=t.dependents?[].concat(t.dependents):[];e.push({children:[],value:i?{enum:[]}:void 0}),a(F({},t,{dependents:e}))}}),Object(n.createElement)(x.a,{placement:"top",target:t.path+"_adddependency"},"Add another dependency relation linking this element and other form elements")))}var fe=Object(w.a)({cardModal:{"& .card-modal-entries":{padding:"1em"},"& h4, h5, p, label, li":{fontSize:"14px",marginBottom:"0"},"& h3":{fontSize:"16px"},"& > input":{marginBottom:"1em",height:"32px"},"& .fa-question-circle":{color:"var(--gray)"},"& .card-modal-boolean":{"& *":{marginRight:"0.25em",height:"auto",display:"inline-block"}},"& .card-modal-select":{"& input":{margin:"0",height:"20px"},marginBottom:"1em"}}});function ge(e){var t=e.componentProps,a=e.onChange,r=e.isOpen,i=e.onClose,o=e.TypeSpecificParameters,c=fe(),l=Object(n.useState)(t),s=l[0],m=l[1];return Object(n.useEffect)((function(){m(t)}),[t]),Object(n.createElement)(p.a,{isOpen:r,"data-test":"card-modal",className:c.cardModal},Object(n.createElement)(h.a,{className:"card-modal-header"},Object(n.createElement)("div",{style:{display:t.hideKey?"none":"initial"}},Object(n.createElement)("h5",null,"Additional Settings"))),Object(n.createElement)(f.a,{className:"card-modal-entries"},Object(n.createElement)(o,{parameters:s,onChange:function(e){m(F({},s,e))}}),Object(n.createElement)(he,{parameters:s,onChange:function(e){m(F({},s,e))}})),Object(n.createElement)(g.a,null,Object(n.createElement)(b.a,{onClick:function(){i(),a(s)},color:"primary"},"Save"),Object(n.createElement)(b.a,{onClick:function(){i()},color:"secondary"},"Cancel")))}function be(e){var t=e.category,a=e.parameters,r=e.onChange,i=e.mods,o=function(e,t){return t[e].cardBody}(t,e.allFormInputs);return Object(n.createElement)("div",null,Object(n.createElement)(o,{parameters:a,onChange:r,mods:i||{}}))}function ye(e){var t=e.parameters,a=e.onChange,n=e.allFormInputs,i=e.mods,o=r.a.useState(t.name),c=o[0],l=o[1],s=r.a.useState(t.title),m=s[0],d=s[1],u=r.a.useState(t.description),p=u[0],h=u[1],f=function(e,t){var a={};return Object.keys(t).forEach((function(e){a[e]=t[e].displayName})),a}(t.category,n);return r.a.createElement("div",null,r.a.createElement("div",{className:"card-entry"},r.a.createElement("h5",null,"Object Name"," ",r.a.createElement($,{text:i&&i.tooltipDescriptions&&"string"===typeof i.tooltipDescriptions.cardObjectName?i.tooltipDescriptions.cardObjectName:"The back-end name of the object",id:c+"_nameinfo",type:"help"})),r.a.createElement(j.a,{value:c||"",placeholder:"Key",type:"text",onChange:function(e){return l(e.target.value.replace(/\W/g,"_"))},onBlur:function(e){return a(F({},t,{name:e.target.value}))},className:"card-text"})),r.a.createElement("div",{className:"card-entry "+(void 0===t.$ref?"":"disabled-input")},r.a.createElement("h5",null,"Display Name"," ",r.a.createElement($,{text:i&&i.tooltipDescriptions&&"string"===typeof i.tooltipDescriptions.cardDisplayName?i.tooltipDescriptions.cardDisplayName:"The user-facing name of this object",id:c+"-titleinfo",type:"help"})),r.a.createElement(j.a,{value:m||"",placeholder:"Title",type:"text",onChange:function(e){return d(e.target.value)},onBlur:function(e){a(F({},t,{title:e.target.value}))},className:"card-text",readOnly:void 0!==t.$ref})),r.a.createElement("div",{className:"card-entry "+(t.$ref?"disabled-input":"")},r.a.createElement("h5",null,"Description"," ",r.a.createElement($,{text:i&&i.tooltipDescriptions&&"string"===typeof i.tooltipDescriptions.cardDescription?i.tooltipDescriptions.cardDescription:"This will appear as help text on the form",id:c+"-descriptioninfo",type:"help"})),r.a.createElement(j.a,{value:p||"",placeholder:"Description",type:"text",onChange:function(e){return h(e.target.value)},onBlur:function(e){a(F({},t,{description:e.target.value}))},className:"card-text",readOnly:void 0!==t.$ref})),r.a.createElement("div",{className:"card-entry"},r.a.createElement("h5",null,"Input Type"," ",r.a.createElement($,{text:i&&i.tooltipDescriptions&&"string"===typeof i.tooltipDescriptions.cardInputType?i.tooltipDescriptions.cardInputType:"The type of form input displayed on the form",id:c+"-inputinfo",type:"help"})),r.a.createElement(U.a,{value:{value:t.category,label:f[t.category]},placeholder:"Category",options:Object.keys(f).filter((function(e){return"ref"!==e||t.definitionData&&0!==Object.keys(t.definitionData).length})).map((function(e){return{value:e,label:f[e]}})),onChange:function(e){var r=e.value,i=F({},function(e,t){return t[e].defaultUiSchema}(r,n),function(e,t){return t[e].defaultDataSchema}(r,n),{name:t.name,required:t.required});if(void 0!==i.$ref&&!i.$ref){var o=Object.keys(t.definitionData)[0];i.$ref="#/definitions/"+(o||"empty")}a(F({},i,{title:i.title||t.title,default:i.default||"",type:i.type||V(r,n),category:i.category||r}))},className:"card-select"})),r.a.createElement("div",{className:"card-category-options"},r.a.createElement(be,{category:t.category,parameters:t,onChange:a,mods:i,allFormInputs:n})))}var ve=Object(w.a)({addDetails:{"& .popover":{width:"300px","z-index":"1051 !important","& .popover-inner":{border:"1px solid #1d71ad",borderRadius:"4px","& .popover-header":{borderBottom:"1px solid #1d71ad"},"& .popover-body":{"& .fb-radio-group":{display:"block"},"& div":{margin:"0",display:"inline-block",width:"50%"},"& .left":{textAlign:"left"},"& .right":{textAlign:"right"}}}}}});function Ee(e){var t=e.name,a=e.addElem,i=e.hidden,o=ve(),c=Object(n.useState)(!1),l=c[0],s=c[1],m=Object(n.useState)("card"),d=m[0],u=m[1];return r.a.createElement("div",{style:{display:i?"none":"initial"}},r.a.createElement("i",{className:"fa fa-plus-square card-add",onClick:function(){return s(!0)},id:t+"_add"}),r.a.createElement(x.a,{placement:"top",target:t+"_add"},"Create new form element"),r.a.createElement(C.a,{placement:"bottom",target:t+"_add",isOpen:l,toggle:function(){return s(!1)},className:"add-details "+o.addDetails,id:t+"_add_popover"},r.a.createElement(N.a,null,"Create New"),r.a.createElement(k.a,null,r.a.createElement(B,{className:"choose-create",defaultValue:d,horizontal:!1,options:[{value:"card",label:"Form element"},{value:"section",label:"Form section"}],onChange:function(e){u(e)}}),r.a.createElement("div",{className:"left"},r.a.createElement(b.a,{onClick:function(){return s(!1)},color:"secondary"},"Cancel")),r.a.createElement("div",{className:"right"},r.a.createElement(b.a,{onClick:function(){a(d),s(!1)},color:"primary"},"Create")))))}var Oe=Object(w.a)({cardEntries:{"border-bottom":"1px solid gray",margin:".5em 1.5em 0 1.5em","& h5":{color:"black","font-size":"14px","font-weight":"bold",margin:0},"& .card-entry":{display:"inline-block",margin:0,width:"50%","text-align":"left",padding:"0.5em"},"& input":{border:"1px solid gray","border-radius":"4px"},"& .card-category-options":{padding:".5em"},"& .card-select":{border:"1px solid var(--gray)","border-radius":"4px"},"& .card-array":{"& .fa-plus-square":{display:"none"},"& .section-entries":{"& .fa-plus-square":{display:"initial"}}},"& .card-enum":{display:"flex",flexDirection:"column",width:"100%",backgroundColor:"var(--light-gray)",textAlign:"left",padding:"1em","& h3":{fontSize:"16px",margin:"0"},"& label":{color:"black",fontSize:"14px"},"& .card-enum-header":{marginTop:"0.5em",width:"100%",display:"flex",flexDirection:"row","& h5":{width:"50%",fontWeight:"bold",fontSize:"14px"}},"& i":{cursor:"pointer"},"& .card-enum-option":{width:"100%",display:"flex",flexDirection:"row","& input":{width:"80%",marginRight:"1em",marginBottom:"0.5em"}}}},cardInteractions:{margin:".5em 1.5em",textAlign:"left","& .fa":{marginRight:"1em",borderRadius:"4px",padding:".25em"},"& .fa-arrow-up, .fa-arrow-down":{marginRight:".5em"},"& .fa-trash":{border:"1px solid #DE5354",color:"#DE5354"},"& .fb-checkbox":{display:"inline-block"},"& .interactions-left, & .interactions-right":{display:"inline-block",width:"48%",margin:"0 auto"},"& .interactions-left":{textAlign:"left"},"& .interactions-right":{textAlign:"right"}}});function xe(e){var t=e.componentProps,a=e.onChange,r=e.onDelete,i=e.onMoveUp,o=e.onMoveDown,c=e.TypeSpecificParameters,l=e.addElem,s=e.cardOpen,m=e.setCardOpen,d=e.allFormInputs,u=e.mods,p=Oe(),h=Object(n.useState)(!1),f=h[0],g=h[1];return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(_,{isOpen:s,toggleCollapse:function(){return m(!s)},title:Object(n.createElement)(n.Fragment,null,Object(n.createElement)("span",{onClick:function(){return m(!s)},className:"label"},t.title||t.name," ",t.parent?Object(n.createElement)($,{text:"Depends on "+t.parent,id:t.path+"_parentinfo",type:"alert"}):"",void 0!==t.$ref?Object(n.createElement)($,{text:"Is an instance of pre-configured component "+t.$ref,id:t.path+"_refinfo",type:"alert"}):""),Object(n.createElement)("span",{className:"arrows"},Object(n.createElement)("i",{className:"fa fa-arrow-up",id:t.path+"_moveupbiginfo",onClick:function(){return i?i():{}}}),Object(n.createElement)(x.a,{placement:"top",target:t.path+"_moveupbiginfo"},"Move form element up"),Object(n.createElement)("i",{className:"fa fa-arrow-down",id:t.path+"_movedownbiginfo",onClick:function(){return o?o():{}}}),Object(n.createElement)(x.a,{placement:"top",target:t.path+"_movedownbiginfo"},"Move form element down"))),className:"card-container "+(t.dependent?"card-dependent":"")+" "+(void 0===t.$ref?"":"card-reference")},Object(n.createElement)("div",{className:p.cardEntries},Object(n.createElement)(ye,{parameters:t,onChange:a,allFormInputs:d,mods:u})),Object(n.createElement)("div",{className:p.cardInteractions},Object(n.createElement)("i",{id:t.path+"_editinfo",className:"fa fa-pencil",onClick:function(){return g(!0)}}),Object(n.createElement)(x.a,{placement:"top",target:t.path+"_editinfo"},"Additional configurations for this form element"),Object(n.createElement)("i",{className:"fa fa-trash",id:t.path+"_trashinfo",onClick:r||function(){}}),Object(n.createElement)(x.a,{placement:"top",target:t.path+"_trashinfo"},"Delete form element"),Object(n.createElement)(A,{onChangeValue:function(){return a(F({},t,{required:!t.required}))},isChecked:!!t.required,label:"Required",id:("string"===typeof t.path?t.path:"card")+"_required"})),Object(n.createElement)(ge,{componentProps:t,isOpen:f,onClose:function(){return g(!1)},onChange:function(e){a(e)},TypeSpecificParameters:c})),l?Object(n.createElement)(Ee,{name:""+t.path,addElem:function(e){return l(e)}}):"")}var je=Object(w.a)({hidden:{display:"none"}});function Ce(){return Object(n.createElement)("div",null)}function Ne(e){var t=e.parameters,a=e.onChange,r=je(),i=Array.isArray(t.enum)?t.enum:[],o=i.some((function(e){return isNaN(e)})),c=o||i.some((function(e){return"string"===typeof e})),l=Object(n.useState)(!!i.length&&!c),s=l[0],m=l[1];return Object(n.createElement)("div",{className:"card-enum"},Object(n.createElement)("h3",null,"Possible Values"),Object(n.createElement)(A,{onChangeValue:function(){Array.isArray(t.enumNames)?a(F({},t,{enumNames:null})):a(F({},t,{enumNames:i.map((function(e){return""+e}))}))},isChecked:Array.isArray(t.enumNames),label:"Display label is different from value",id:t.path+"_different"}),Object(n.createElement)("div",{className:o||!i.length?r.hidden:""},Object(n.createElement)(A,{onChangeValue:function(){if(c||!s)try{var e=i.map((function(e){var t=0;if(e&&(t=parseFloat(e)||0),Number.isNaN(t))throw new Error("Could not convert "+e);return t}));m(!0),a(F({},t,{enum:e}))}catch(r){console.error(r)}else{var n=i.map((function(e){return""+(e||0)}));m(!1),a(F({},t,{enum:n}))}},isChecked:s,disabled:o,label:"Force number",id:("string"===typeof t.path?t.path:"")+"_forceNumber"})),Object(n.createElement)(J,{initialValues:i,names:Array.isArray(t.enumNames)?t.enumNames.map((function(e){return""+e})):void 0,showNames:Array.isArray(t.enumNames),onChange:function(e,n){return a(F({},t,{enum:e,enumNames:n}))},type:s?"number":"string"}))}var ke={time:{displayName:"Time",matchIf:[{types:["string"],format:"date-time"}],defaultDataSchema:{format:"date-time"},defaultUiSchema:{},type:"string",cardBody:function(e){var t=e.parameters,a=e.onChange;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("h5",null,"Default time"),Object(n.createElement)(j.a,{value:t.default||"",placeholder:"Default",type:"datetime-local",onChange:function(e){return a(F({},t,{default:e.target.value}))},className:"card-text"}))},modalBody:Ce},checkbox:{displayName:"Checkbox",matchIf:[{types:["boolean"]}],defaultDataSchema:{},defaultUiSchema:{},type:"boolean",cardBody:function(e){var t=e.parameters,a=e.onChange;return Object(n.createElement)("div",{className:"card-boolean"},Object(n.createElement)(A,{onChangeValue:function(){a(F({},t,{default:!t.default||!0!==t.default}))},isChecked:!!t.default&&!0===t.default,label:"Default"}))},modalBody:Ce},ref:{displayName:"Reference",matchIf:[{types:[null],$ref:!0}],defaultDataSchema:{$ref:""},defaultUiSchema:{},type:null,cardBody:function(e){var t=e.parameters,a=e.onChange;return Object(n.createElement)("div",{className:"card-select"},Object(n.createElement)(U.a,{value:{value:t.$ref,label:t.$ref},placeholder:"Reference",options:Object.keys(t.definitionData||{}).map((function(e){return{value:"#/definitions/"+e,label:"#/definitions/"+e}})),onChange:function(e){a(F({},t,{$ref:e.value}))},className:"card-select"}))},modalBody:Ce},radio:{displayName:"Radio",matchIf:[{types:["string","number","integer","array","boolean",null],widget:"radio",enum:!0}],defaultDataSchema:{enum:[]},defaultUiSchema:{"ui:widget":"radio"},type:"string",cardBody:Ne,modalBody:Ce},dropdown:{displayName:"Dropdown",matchIf:[{types:["string","number","integer","array","boolean",null],enum:!0}],defaultDataSchema:{enum:[]},defaultUiSchema:{},type:"string",cardBody:Ne,modalBody:Ce}},we=Object(w.a)({sectionContainer:{"& .section-head":{borderBottom:"1px solid var(--gray)",margin:"0.5em 1.5em 0 1.5em","& h5":{color:"black",fontSize:"14px",fontWeight:"bold",margin:"0"},"& .section-entry":{display:"inline-block",margin:"0",width:"33%",textAlign:"left",padding:"0.5em"},"& .section-reference":{width:"100%"}},"& .section-footer":{marginTop:"1em",textAlign:"center",i:{cursor:"pointer"}},"& .section-interactions":{margin:"0.5em 1.5em",textAlign:"left",borderTop:"1px solid var(--gray)",paddingTop:"1em","& .fa":{marginRight:"1em",borderRadius:"4px",padding:"0.25em"},"& .fa-pencil, & .fa-arrow-up, & .fa-arrow-down":{border:"1px solid #1d71ad",color:"#1d71ad"},"& .fa-trash":{border:"1px solid #de5354",color:"#de5354"},"& .fa-arrow-up, & .fa-arrow-down":{marginRight:"0.5em"},"& .fb-checkbox":{display:"inline-block",label:{color:"#9aa4ab"}},"& .interactions-left, & .interactions-right":{display:"inline-block",width:"48%",margin:"0 auto"},"& .interactions-left":{textAlign:"left"},"& .interactions-right":{textAlign:"right"}}}});function De(e){var t=e.name,a=e.required,r=e.schema,i=e.uischema,o=e.onChange,c=e.onNameChange,l=e.onRequireToggle,s=e.onDependentsChange,m=e.onDelete,d=e.onMoveUp,p=e.onMoveDown,h=e.path,f=e.definitionData,g=e.definitionUi,b=e.hideKey,y=e.reference,v=e.dependents,O=e.dependent,C=e.parent,N=e.neighborNames,k=e.addElem,w=e.cardOpen,D=e.setCardOpen,S=e.allFormInputs,I=e.mods,T=e.categoryHash,M=we(),q=X(r||{},i||{},S),B=r||{},H=te(B),R=[].concat(Array(H)).map((function(){return!1})),z=Object(n.useState)(R),P=z[0],J=z[1],L=Object(n.useState)(t),W=L[0],V=L[1],K=Object(n.useState)(!1),G=K[0],Q=K[1];return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(_,{isOpen:w,toggleCollapse:function(){return D(!w)},title:Object(n.createElement)(n.Fragment,null,Object(n.createElement)("span",{onClick:function(){return D(!w)},className:"label"},B.title||W," ",C?Object(n.createElement)($,{text:"Depends on "+C,id:W+"_parentinfo",type:"alert"}):""),Object(n.createElement)("span",{className:"arrows"},Object(n.createElement)("i",{className:"fa fa-arrow-up",id:h+"_moveupbiginfo",onClick:function(){return d?d():{}}}),Object(n.createElement)(x.a,{placement:"top",target:h+"_moveupbiginfo"},"Move form element up"),Object(n.createElement)("i",{className:"fa fa-arrow-down",id:h+"_movedownbiginfo",onClick:function(){return p?p():{}}}),Object(n.createElement)(x.a,{placement:"top",target:h+"_movedownbiginfo"},"Move form element down"))),className:"section-container "+M.sectionContainer+" "+(O?"section-dependent":"")+" "+(y?"section-reference":"")},Object(n.createElement)("div",{className:"section-entries "+(y?"section-reference":"")},Object(n.createElement)("div",{className:"section-head"},y?Object(n.createElement)("div",{className:"section-entry section-reference"},Object(n.createElement)("h5",null,"Reference Section"),Object(n.createElement)(U.a,{value:{value:y,label:y},placeholder:"Reference",options:Object.keys(f).map((function(e){return{value:"#/definitions/"+e,label:"#/definitions/"+e}})),onChange:function(e){o(r,i,e.value)},className:"section-select"})):"",Object(n.createElement)("div",{className:"section-entry"},Object(n.createElement)("h5",null,"Section Object Name"," ",Object(n.createElement)($,{text:"The name that will appear in the backend of Servicely",id:W+"_nameinfo",type:"help"})),Object(n.createElement)(j.a,{value:W||"",placeholder:"Key",type:"text",onChange:function(e){return V(e.target.value.replace(/\W/g,"_"))},onBlur:function(e){return c(e.target.value)},className:"card-text",readOnly:b})),Object(n.createElement)("div",{className:"section-entry"},Object(n.createElement)("h5",null,"Section Display Name"," ",Object(n.createElement)($,{text:"The name Servicely will show to service requesters",id:W+"_titleinfo",type:"help"})),Object(n.createElement)(j.a,{value:B.title||"",placeholder:"Title",type:"text",onChange:function(e){return o(F({},r,{title:e.target.value}),i)},className:"card-text"})),Object(n.createElement)("div",{className:"section-entry"},Object(n.createElement)("h5",null,"Section Description"," ",Object(n.createElement)($,{text:"This will appear as gray text in the service request form",id:W+"_descriptioninfo",type:"help"})),Object(n.createElement)(j.a,{value:B.description||"",placeholder:"Description",type:"text",onChange:function(e){return o(F({},r,{description:e.target.value}),i)},className:"card-text"})),Object(n.createElement)(u.a,{style:{display:0===q.length?"none":"block"},color:"warning"},Object(n.createElement)("h5",null,"Unsupported Features:"),q.map((function(e){return Object(n.createElement)("li",{key:h+"_"+e},e)})))),Object(n.createElement)("div",{className:"section-body"},Object(n.createElement)(E.a,{onDragEnd:function(e){return se(e,{schema:r,uischema:i,onChange:o,definitionData:f,definitionUi:g,categoryHash:T})},className:"section-body"},Object(n.createElement)(E.c,{droppableId:"droppable"},(function(e){return Object(n.createElement)("div",F({ref:e.innerRef},e.droppableProps),le({schemaData:r,uiSchemaData:i,onChange:o,path:h,definitionData:f,definitionUi:g,cardOpenArray:P,setCardOpenArray:J,allFormInputs:S,mods:I,categoryHash:T,Card:xe,Section:De}).map((function(e,t){return Object(n.createElement)(E.b,{key:e.key,draggableId:e.key,index:t},(function(t){return Object(n.createElement)("div",F({ref:t.innerRef},t.draggableProps,t.dragHandleProps),e)}))})),e.placeholder)})))),Object(n.createElement)("div",{className:"section-footer"},Object(n.createElement)(Ee,{name:W+"_inner",addElem:function(e){"card"===e?oe({schema:r,uischema:i,onChange:o,definitionData:f,definitionUi:g,categoryHash:T}):"section"===e&&ce({schema:r,uischema:i,onChange:o,definitionData:f,definitionUi:g,categoryHash:T})},hidden:B.properties&&0!==Object.keys(B.properties).length})),Object(n.createElement)("div",{className:"section-interactions"},Object(n.createElement)("i",{className:"fa fa-pencil",id:h+"_editinfo",onClick:function(){return Q(!0)}}),Object(n.createElement)(x.a,{placement:"top",target:h+"_editinfo"},"Additional configurations for this form element"),Object(n.createElement)("i",{className:"fa fa-trash",id:h+"_trashinfo",onClick:function(){return m?m():{}}}),Object(n.createElement)(x.a,{placement:"top",target:h+"_trashinfo"},"Delete form element"),Object(n.createElement)(A,{onChangeValue:function(){return l()},isChecked:a,label:"Required",id:h+"_required"}))),Object(n.createElement)(ge,{componentProps:{dependents:v,neighborNames:N,name:W,schema:r,type:"object"},isOpen:G,onClose:function(){return Q(!1)},onChange:function(e){s(e.dependents)},TypeSpecificParameters:Ce})),k?Object(n.createElement)(Ee,{name:W,addElem:function(e){return k(e)}}):"")}var Se={"":"None","date-time":"Date-Time",email:"Email",hostname:"Hostname",time:"Time",uri:"URI",regex:"Regular Expression"},Ue={"":"None",email:"Email",username:"User Name",password:"Password","street-address":"Street Address",country:"Country"};function Fe(e){var t=e.parameters,a=e.onChange;return r.a.createElement("div",null,r.a.createElement("h4",null,"Minimum Length"),r.a.createElement(j.a,{value:t.minLength?t.minLength:"",placeholder:"Minimum Length",key:"minLength",type:"number",onChange:function(e){a(F({},t,{minLength:parseInt(e.target.value,10)}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Maximum Length"),r.a.createElement(j.a,{value:t.maxLength?t.maxLength:"",placeholder:"Maximum Length",key:"maxLength",type:"number",onChange:function(e){a(F({},t,{maxLength:parseInt(e.target.value,10)}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Regular Expression Pattern",r.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions",target:"_blank",rel:"noopener noreferrer"},r.a.createElement($,{id:t.path+"_regex",type:"help",text:"Regular expression pattern that this must satisfy"}))),r.a.createElement(j.a,{value:t.pattern?t.pattern:"",placeholder:"Regular Expression Pattern",key:"pattern",type:"text",onChange:function(e){a(F({},t,{pattern:e.target.value}))},className:"card-modal-text"}),r.a.createElement("h4",null,"Format"," ",r.a.createElement($,{id:t.path+"_format",type:"help",text:"Require string input to match a certain common format"})),r.a.createElement(U.a,{value:{value:t.format?Se["string"===typeof t.format?t.format:""]:"",label:t.format?Se["string"===typeof t.format?t.format:""]:"None"},placeholder:"Format",key:"format",options:Object.keys(Se).map((function(e){return{value:e,label:Se[e]}})),onChange:function(e){a(F({},t,{format:e.value}))},className:"card-modal-select"}),r.a.createElement("h5",null,"Auto Complete Category"," ",r.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete",target:"_blank",rel:"noopener noreferrer"},r.a.createElement($,{id:t.path+"_autocomplete",type:"help",text:"Suggest entries based on the user's browser history"}))),r.a.createElement(U.a,{value:{value:t["ui:autocomplete"]?Ue["string"===typeof t["ui:autocomplete"]?t["ui:autocomplete"]:""]:"",label:t["ui:autocomplete"]?Ue["string"===typeof t["ui:autocomplete"]?t["ui:autocomplete"]:""]:"None"},placeholder:"Auto Complete",key:"ui:autocomplete",options:Object.keys(Ue).map((function(e){return{value:e,label:Ue[e]}})),onChange:function(e){a(F({},t,{"ui:autocomplete":e.value}))},className:"card-modal-select"}),r.a.createElement("div",{className:"card-modal-boolean"},r.a.createElement(A,{onChangeValue:function(){a(F({},t,{"ui:autofocus":!t["ui:autofocus"]||!0!==t["ui:autofocus"]}))},isChecked:!!t["ui:autofocus"]&&!0===t["ui:autofocus"],label:"Auto Focus"})))}var Ie={shortAnswer:{displayName:"Short Answer",matchIf:[{types:["string"]}],defaultDataSchema:{},defaultUiSchema:{},type:"string",cardBody:function(e){var t=e.parameters,a=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Default value"),r.a.createElement(j.a,{value:t.default,placeholder:"Default",type:"text",onChange:function(e){return a(F({},t,{default:e.target.value}))},className:"card-text"}))},modalBody:Fe},password:{displayName:"Password",matchIf:[{types:["string"],widget:"password"}],defaultDataSchema:{},defaultUiSchema:{"ui:widget":"password"},type:"string",cardBody:function(e){var t=e.parameters,a=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Default password"),r.a.createElement(j.a,{value:t.default,placeholder:"Default",type:"password",onChange:function(e){return a(F({},t,{default:e.target.value}))},className:"card-text"}))},modalBody:Fe}},Ae={"":"None","date-time":"Date-Time",email:"Email",hostname:"Hostname",time:"Time",uri:"URI",regex:"Regular Expression"};var Te={longAnswer:{displayName:"Long Answer",matchIf:[{types:["string"],widget:"textarea"}],defaultDataSchema:{},defaultUiSchema:{"ui:widget":"textarea"},type:"string",cardBody:function(e){var t=e.parameters,a=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Default input"),r.a.createElement(j.a,{value:t.default,placeholder:"Default",type:"textarea",onChange:function(e){return a(F({},t,{default:e.target.value}))},className:"card-textarea"}))},modalBody:function(e){var t=e.parameters,a=e.onChange;return r.a.createElement("div",null,r.a.createElement("h4",null,"Minimum Length"),r.a.createElement(j.a,{value:t.minLength?t.minLength:"",placeholder:"Minimum Length",key:"minLength",type:"number",onChange:function(e){a(F({},t,{minLength:parseInt(e.target.value,10)}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Maximum Length"),r.a.createElement(j.a,{value:t.maxLength?t.maxLength:"",placeholder:"Maximum Length",key:"maxLength",type:"number",onChange:function(e){a(F({},t,{maxLength:parseInt(e.target.value,10)}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Regular Expression Pattern",r.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions"},r.a.createElement($,{id:t.path+"_regex",type:"help",text:"Regular expression pattern that this must satisfy"}))),r.a.createElement(j.a,{value:t.pattern?t.pattern:"",placeholder:"Regular Expression Pattern",key:"pattern",type:"text",onChange:function(e){a(F({},t,{pattern:e.target.value}))},className:"card-modal-text"}),r.a.createElement("h4",null,"Format"," ",r.a.createElement($,{id:t.path+"_format",type:"help",text:"Require string input to match a certain common format"})),r.a.createElement(U.a,{value:{value:t.format?Ae["string"===typeof t.format?t.format:""]:"",label:t.format?Ae["string"===typeof t.format?t.format:""]:"None"},placeholder:"Format",key:"format",options:Object.keys(Ae).map((function(e){return{value:e,label:Ae[e]}})),onChange:function(e){a(F({},t,{format:e.value}))},className:"card-modal-select"}),r.a.createElement("div",{className:"card-modal-boolean"},r.a.createElement(A,{onChangeValue:function(){a(F({},t,{"ui:autofocus":!t["ui:autofocus"]||!0!==t["ui:autofocus"]}))},isChecked:!!t["ui:autofocus"]&&!0===t["ui:autofocus"],label:"Auto Focus"})))}}};function _e(e){var t=e.parameters,a=e.onChange;return r.a.createElement("div",null,r.a.createElement("h4",null,"Multiple of"," ",r.a.createElement($,{id:t.path+"_multiple",type:"help",text:"Require number to be a multiple of this number"})),r.a.createElement(j.a,{value:t.multipleOf?t.multipleOf:"",placeholder:"ex: 2",key:"multipleOf",type:"number",onChange:function(e){var n=parseFloat(e.target.value);Number.isNaN(n)&&(n=null),a(F({},t,{multipleOf:n}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Minimum"),r.a.createElement(j.a,{value:t.minimum||t.exclusiveMinimum||"",placeholder:"ex: 3",key:"minimum",type:"number",onChange:function(e){var n=parseFloat(e.target.value);Number.isNaN(n)&&(n=null),t.exclusiveMinimum?a(F({},t,{exclusiveMinimum:n,minimum:null})):a(F({},t,{minimum:n,exclusiveMinimum:null}))},className:"card-modal-number"}),r.a.createElement("div",{className:"card-modal-boolean"},r.a.createElement(A,{key:"exclusiveMinimum",onChangeValue:function(){var e=t.minimum||t.exclusiveMinimum;t.exclusiveMinimum?a(F({},t,{exclusiveMinimum:null,minimum:e})):a(F({},t,{exclusiveMinimum:e,minimum:null}))},isChecked:!!t.exclusiveMinimum,disabled:!t.minimum&&!t.exclusiveMinimum,label:"Exclusive Minimum"})),r.a.createElement("h4",null,"Maximum"),r.a.createElement(j.a,{value:t.maximum||t.exclusiveMaximum||"",placeholder:"ex: 8",key:"maximum",type:"number",onChange:function(e){var n=parseFloat(e.target.value);Number.isNaN(n)&&(n=null),t.exclusiveMinimum?a(F({},t,{exclusiveMaximum:n,maximum:null})):a(F({},t,{maximum:n,exclusiveMaximum:null}))},className:"card-modal-number"}),r.a.createElement("div",{className:"card-modal-boolean"},r.a.createElement(A,{key:"exclusiveMaximum",onChangeValue:function(){var e=t.maximum||t.exclusiveMaximum;t.exclusiveMaximum?a(F({},t,{exclusiveMaximum:null,maximum:e})):a(F({},t,{exclusiveMaximum:e,maximum:null}))},isChecked:!!t.exclusiveMaximum,disabled:!t.maximum&&!t.exclusiveMaximum,label:"Exclusive Maximum"})))}function Me(e){var t=e.parameters,a=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Default number"),r.a.createElement(j.a,{value:t.default,placeholder:"Default",type:"number",onChange:function(e){return a(F({},t,{default:parseFloat(e.target.value)}))},className:"card-number"}))}var qe={integer:{displayName:"Integer",matchIf:[{types:["integer"]},{types:["integer"],widget:"number"}],defaultDataSchema:{},defaultUiSchema:{},type:"integer",cardBody:Me,modalBody:_e},number:{displayName:"Number",matchIf:[{types:["number"]}],defaultDataSchema:{},defaultUiSchema:{},type:"number",cardBody:Me,modalBody:_e}};function Be(e){var t=e.parameters,a=e.onChange;return r.a.createElement("div",null,r.a.createElement("h4",null,"Minimum Items"),r.a.createElement(j.a,{value:t.minItems||"",placeholder:"ex: 2",key:"minimum",type:"number",onChange:function(e){a(F({},t,{minItems:parseInt(e.target.value,10)}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Maximum Items"),r.a.createElement(j.a,{value:t.maxItems||"",placeholder:"ex: 2",key:"maximum",type:"number",onChange:function(e){a(F({},t,{maxItems:parseInt(e.target.value,10)}))},className:"card-modal-number"}))}function He(e){var t=e.defaultFormInputs;return function(e){var a=e.parameters,n=e.onChange,i=e.mods,o={},c={},l=F({},t,i&&i.customFormInputs);Object.keys(a).forEach((function(e){e.startsWith("ui:*")?c[e.substring(4)]=a[e]:e.startsWith("ui:")?c[e]=a[e]:["name","required"].includes(e)||(o[e]=a[e])}));var s=a.definitionData?a.definitionData:{},m=a.definitionUi?a.definitionUi:{},d=r.a.useState(!1),u=d[0],p=d[1];return"array"!==a.type?r.a.createElement("h4",null,"Not an array "):r.a.createElement("div",{className:"card-array"},r.a.createElement(A,{onChangeValue:function(){"object"===o.items.type?n(F({},a,{items:F({},o.items,{type:"string"})})):n(F({},a,{items:F({},o.items,{type:"object"})}))},isChecked:"object"===o.items.type,label:"Section",id:("string"===typeof a.path?a.path:"")+"_issection"}),le({schemaData:{properties:{Item:o.items}},uiSchemaData:{Item:c.items},onChange:function(e,t){n(F({},a,{items:e.properties.Item,"ui:*items":t.Item||{}}))},path:"string"===typeof a.path?a.path:"array",definitionData:"string"===typeof s?s:{},definitionUi:"string"===typeof m?m:{},hideKey:!0,cardOpenArray:[u],setCardOpenArray:function(e){return p(e[0])},allFormInputs:l,mods:i,categoryHash:K(l),Card:xe,Section:De}))}}var Re=F({},ke,Ie,Te,qe);Re.array={displayName:"Array",matchIf:[{types:["array"]}],defaultDataSchema:{items:{type:"string"}},defaultUiSchema:{},type:"array",cardBody:He({defaultFormInputs:Re}),modalBody:Be};var $e=F({},ke,Ie,Te,qe,{array:{displayName:"Array",matchIf:[{types:["array"]}],defaultDataSchema:{items:{type:"string"}},defaultUiSchema:{},type:"array",cardBody:He({defaultFormInputs:Re}),modalBody:Be}}),ze=Object(w.a)({formBuilder:{"text-align":"center","& i":{cursor:"pointer"},"& .fa-question-circle":{color:"gray"},"& .fa-asterisk":{"font-size":".9em",color:"green"},"& .fa-plus-square":{color:"green","font-size":"1.5em",margin:"0 auto"},"& .card-container":{"&:hover":{border:"1px solid green"},display:"block",width:"70%","min-width":"400px",margin:"2em auto",border:"1px solid gray","border-radius":"4px","background-color":"white","& .toggle-collapse":{margin:"0.25em .5em 0 .5em !important"},"& h4":{width:"100%","text-align":"left",display:"inline-block",color:"#138AC2",margin:"0.25em .5em 0 .5em","font-size":"18px"},"& .d-flex":{"border-bottom":"1px solid gray"},"& .label":{float:"left"},"& .arrows":{"text-align":"right",float:"right","& .fa-trash":{border:"1px solid #DE5354",color:"#DE5354"},"& .fa":{"border-radius":"4px",padding:".25em",margin:"0 .5em 0 0"}}},"& .card-dependent":{border:"1px dashed gray"},"& .card-requirements":{border:"1px dashed black"},"& .section-container":{"&:hover":{border:"1px solid green"},display:"block",width:"90%","min-width":"400px",margin:"2em auto",border:"1px solid var(--gray)","border-radius":"4px","background-color":"white","& .toggle-collapse":{margin:"0.25em .5em 0 .5em !important"},"& h4":{width:"100%","text-align":"left",display:"inline-block",color:"#138AC2",margin:"0.25em .5em 0 .5em","font-size":"18px"},"& .d-flex":{"border-bottom":"1px solid var(--gray)"},"& .label":{float:"left"},"& .arrows":{"text-align":"right",float:"right","& .fa-trash":{border:"1px solid #DE5354",color:"#DE5354"},"& .fa":{"border-radius":"4px",padding:".25em",margin:"0 .5em 0 0"}}},"& .section-dependent":{border:"1px dashed gray"},"& .section-requirements":{border:"1px dashed black"},"& .alert":{textAlign:"left",width:"70%",margin:"1em auto","& h5":{color:"black",fontSize:"16px",fontWeight:"bold",margin:"0"},"& li":{fontSize:"14px"}},"& .disabled-unchecked-checkbox":{color:"var(--gray)","& div::before":{backgroundColor:"var(--light-gray)"}},"& .disabled-input":{"& input":{backgroundColor:"var(--light-gray)"},"& input:focus":{backgroundColor:"var(--light-gray)",border:"1px solid var(--gray)"}}},formHead:{display:"block",margin:"0 auto","background-color":"#EBEBEB",border:"1px solid #858F96","border-radius":"4px",width:"70%",padding:"10px","& div":{width:"30%",display:"inline-block","text-align":"left",padding:"10px"},"& .form-title":{"text-align":"left"},"& .form-description":{"text-align":"left"},"& h5":{"font-size":"14px","line-height":"21px","font-weight":"bold"}},formBody:{display:"flex",flexDirection:"column","& .fa-pencil, & .fa-arrow-up, & .fa-arrow-down":{border:"1px solid #1d71ad",color:"#1d71ad"},"& .modal-body":{maxHeight:"500px",overflowY:"scroll"},"& .card-container":{width:"70%",minWidth:"400px",margin:"2em auto",border:"1px solid var(--gray)",borderRadius:"4px",backgroundColor:"white","& .toggle-collapse":{margin:"0.25em 0.5em 0 0.5em !important"},"& h4":{width:"100%",textAlign:["left","left"],display:"inline-block",color:"#138ac2",margin:"0.25em 0.5em 0 0.5em",fontSize:"18px"},"& .d-flex":{borderBottom:"1px solid var(--gray)"},"& .label":{cssFloat:"left"},"& .arrows":{textAlign:"right",cssFloat:"right","& .fa-trash":{border:"1px solid #de5354",color:"#de5354"},"& .fa":{borderRadius:"4px",padding:"0.25em",margin:"0 0.5em 0 0"}}},"& .card-container:hover":{border:"1px solid var(--green)"},"& .card-dependent":{border:"1px dashed var(--gray)"},"& .card-add":{cursor:"pointer",display:"block",color:"$green",fontSize:"1.5em"},"& .section-container":{width:"90%",minWidth:"400px",margin:"2em auto",border:"1px solid var(--gray)",borderRadius:"4px","& .toggle-collapse":{margin:"0.25em 0.5em 0 0.5em !important"},"& h4":{width:"100%",textAlign:["left","left"],display:"inline-block",color:"#138ac2",margin:"0.25em 0.5em 0 0.5em",fontSize:"18px"},"& .d-flex":{borderBottom:"1px solid var(--gray)"},"& .label":{cssFloat:"left"},"& .arrows":{textAlign:"right",cssFloat:"right","& .fa-trash":{border:"1px solid #de5354",color:"#de5354"},"& .fa":{borderRadius:"4px",padding:"0.25em",margin:"0 0.5em 0 0"}}},"& .section-container:hover":{border:"1px solid var(--green)"},"& .section-dependent":{border:"1px dashed var(--gray)"},"& .section-requirements":{border:"1px dashed black"}},formFooter:{marginTop:"1em",textAlign:"center","& i":{cursor:"pointer",color:"$green",fontSize:"1.5em"}}});function Pe(e){var t=e.schema,a=e.uischema,r=e.onChange,i=e.mods,o=e.className,c=ze(),l=L(t)||{};l.type="object";var s=L(a)||{},m=F({},$e,i&&i.customFormInputs),d=X(l,s,m),p=te(l),h=[].concat(Array(p)).map((function(){return!1})),f=Object(n.useState)(h),g=f[0],b=f[1],y=K(m);return Object(n.createElement)("div",{className:c.formBuilder+" "+(o||"")},Object(n.createElement)(u.a,{style:{display:0===d.length?"none":"block"},color:"warning"},Object(n.createElement)("h5",null,"Unsupported Features:"),d.map((function(e,t){return Object(n.createElement)("li",{key:t},e)}))),Object(n.createElement)("div",{className:c.formHead},Object(n.createElement)("div",null,Object(n.createElement)("h5",null,"Form Name"),Object(n.createElement)(j.a,{value:l.title||"",placeholder:"Title",type:"text",onChange:function(e){r(W(F({},l,{title:e.target.value})),a)},className:"form-title"})),Object(n.createElement)("div",null,Object(n.createElement)("h5",null,"Form Description"),Object(n.createElement)(j.a,{value:l.description||"",placeholder:"Description",type:"text",onChange:function(e){return r(W(F({},l,{description:e.target.value})),a)},className:"form-description"}))),Object(n.createElement)("div",{className:"form-body "+c.formBody},Object(n.createElement)(E.a,{onDragEnd:function(e){return se(e,{schema:l,uischema:s,onChange:function(e,t){return r(W(e),W(t))},definitionData:l.definitions,definitionUi:s.definitions,categoryHash:y})},className:"form-body"},Object(n.createElement)(E.c,{droppableId:"droppable"},(function(e){return Object(n.createElement)("div",F({ref:e.innerRef},e.droppableProps),le({schemaData:l,uiSchemaData:s,onChange:function(e,t){return r(W(e),W(t))},definitionData:l.definitions,definitionUi:s.definitions,path:"root",cardOpenArray:g,setCardOpenArray:b,allFormInputs:m,mods:i,categoryHash:y,Card:xe,Section:De}).map((function(e,t){return Object(n.createElement)(E.b,{key:e.key,draggableId:e.key,index:t},(function(t){return Object(n.createElement)("div",F({ref:t.innerRef},t.draggableProps,t.dragHandleProps),e)}))})),e.placeholder)})))),Object(n.createElement)("div",{className:"form-footer "+c.formFooter},Object(n.createElement)(Ee,{name:"form-builder",addElem:function(e){"card"===e?oe({schema:l,uischema:s,onChange:function(e,t){return r(W(e),W(t))},definitionData:l.definitions,definitionUi:s.definitions,categoryHash:y}):"section"===e&&ce({schema:l,uischema:s,onChange:function(e,t){return r(W(e),W(t))},definitionData:l.definitions,definitionUi:s.definitions,categoryHash:y})},hidden:l.properties&&0!==Object.keys(l.properties).length})))}function Je(e){var t=e.definitionSchema,a=e.definitionUiSchema,n=e.onChange,i=e.mods,o=e.categoryHash,c=te({properties:t}),l=[].concat(Array(c)).map((function(){return!1})),s=r.a.useState(l),m=s[0],d=s[1],u=F({},$e,i&&i.customFormInputs),p=le({schemaData:{properties:t},uiSchemaData:a,onChange:function(e,t){var a=t,r={};Object.keys(a).forEach((function(e){["definitions","ui:order"].includes(e)||(r[e]=a[e])})),n(e.properties,r)},path:"definitions",definitionData:t,definitionUi:a,cardOpenArray:m,setCardOpenArray:d,allFormInputs:u,mods:i,categoryHash:o,Card:xe,Section:De}).map((function(e){return r.a.createElement("div",{key:"string"===typeof e.key?e.key:"",className:"form_gallery_container"},e)}));return r.a.createElement("div",{className:"form_gallery"},p,0===p.length&&r.a.createElement("h5",null,'No components in "definitions"'),r.a.createElement("div",{className:"form_footer"},r.a.createElement(Ee,{name:"form_gallery",addElem:function(e){"card"===e?oe({schema:{properties:t},uischema:a,onChange:function(e,t){var a=t,r={};Object.keys(a).forEach((function(e){["definitions","ui:order"].includes(e)||(r[e]=a[e])})),n(e.properties,r)},definitionData:t,definitionUi:a,categoryHash:o}):"section"===e&&ce({schema:{properties:t},uischema:a,onChange:function(e,t){var a=t,r={};Object.keys(a).forEach((function(e){["definitions","ui:order"].includes(e)||(r[e]=a[e])})),n(e.properties,r)},definitionData:t,definitionUi:a,categoryHash:o})},hidden:!!t&&0!==Object.keys(t).length})))}var Le=Object(w.a)({preDefinedGallery:{display:"flex",flexDirection:"column","text-align":"center","& i":{cursor:"pointer"},"& .fa-question-circle":{color:"gray"},"& .fa-asterisk":{"font-size":".9em",color:"green"},"& .form_footer":{marginTop:"1em",textAlign:"center","& i":{cursor:"pointer",color:"$green",fontSize:"1.5em"}},"& .fa-plus-square":{color:"green","font-size":"1.5em",margin:"0 auto"},"& .card-container":{"&:hover":{border:"1px solid green"},width:"70%","min-width":"400px",margin:"2em auto",border:"1px solid gray","border-radius":"4px","background-color":"white","& .toggle-collapse":{margin:"0.25em .5em 0 .5em !important"},"& h4":{width:"100%","text-align":"left",display:"inline-block",color:"#138AC2",margin:"0.25em .5em 0 .5em","font-size":"18px"},"& .d-flex":{"border-bottom":"1px solid gray"},"& .label":{float:"left"},"& .arrows":{"text-align":"right",float:"right","& .fa-trash":{border:"1px solid #DE5354",color:"#DE5354"},"& .fa":{"border-radius":"4px",padding:".25em",margin:"0 .5em 0 0"}}},"& .card-requirements":{border:"1px dashed black"},"& .section-container":{"&:hover":{border:"1px solid green"},display:"block",width:"90%","min-width":"400px",margin:"2em auto",border:"1px solid var(--gray)","border-radius":"4px","background-color":"white","& .toggle-collapse":{margin:"0.25em .5em 0 .5em !important"},"& h4":{width:"100%","text-align":"left",display:"inline-block",color:"#138AC2",margin:"0.25em .5em 0 .5em","font-size":"18px"},"& .d-flex":{"border-bottom":"1px solid var(--gray)"},"& .label":{float:"left"},"& .arrows":{"text-align":"right",float:"right","& .fa-trash":{border:"1px solid #DE5354",color:"#DE5354"},"& .fa":{"border-radius":"4px",padding:".25em",margin:"0 .5em 0 0"}}},"& .section-dependent":{border:"1px dashed gray"},"& .section-requirements":{border:"1px dashed black"},"& .fa-pencil, & .fa-arrow-up, & .fa-arrow-down":{border:"1px solid #1d71ad",color:"#1d71ad"},"& .modal-body":{maxHeight:"500px",overflowY:"scroll"},"& .card-container:hover":{border:"1px solid var(--green)"},"& .card-dependent":{border:"1px dashed var(--gray)"},"& .card-add":{cursor:"pointer",display:"block",color:"$green",fontSize:"1.5em"},"& .section-container:hover":{border:"1px solid var(--green)"}}});function We(e){var t=e.schema,a=e.uischema,r=e.onChange,i=e.mods,o=Le(),c=L(t)||{},l=L(a)||{},s=K(F({},$e,i&&i.customFormInputs));return Object(n.useEffect)((function(){if(!l.definitions){console.log("Parsing UI schema to assign UI for definitions");var e=[];!function t(a,n){n&&("object"===typeof n&&Object.keys(n).forEach((function(r){"string"===typeof r&&("$ref"===r&&e.push(a),t(r,n[r]))})),Array.isArray(n)&&n.forEach((function(e){t(a,e)})))}("root",c),l.definitions={};var t=new Set(e);Object.keys(l).forEach((function(e){t.has(e)&&(l.definitions[e]=l[e])})),Object.keys(l.definitions).length||(l.definitions=void 0),r(W(c),W(l))}}),[a,t]),Object(n.createElement)("div",{className:o.preDefinedGallery},Object(n.createElement)(Je,{definitionSchema:c.definitions,definitionUiSchema:l.definitions,onChange:function(e,t){c.definitions=e,l.definitions=t,me(c,l,(function(e,t){return r(W(e),W(t))}),s)},mods:i,categoryHash:s}))}var Ve=a(6),Ke=a.n(Ve),Ge=a(576),Qe=a(577),Ye=a(578),Xe=a(579),Ze=a(580),et=Object(w.a)({portalTabs:{"& .tab-content":{"& .tab-pane > .tab-pane":{display:"none",padding:"2em"},"& .active > .tab-pane":{display:"block"}},"& .nav":{"& .nav-link":{position:"relative",display:"inline-flex",padding:"10px"},"& li":{display:"inline-block"},"& .nav-item":{"& .active":{color:"#212529 !important","font-weight":600},"&:hover":{cursor:"pointer"},"& a":{color:"#ccc"}}}}});function tt(e){var t=e.defaultActiveTab,a=void 0===t?0:t,r=e.tabs,i=void 0===r?[]:r,o=e.withSeparator,l=void 0!==o&&o,s=e.preventRerender,m=void 0!==s&&s,d=et(),u=n.useState(a),p=Object(c.a)(u,2),h=p[0],f=p[1];return n.createElement("div",{className:d.portalTabs},n.createElement(Ge.a,{tabs:!0},i.map((function(e,t){var a=e.name,r=e.id;return n.createElement(Qe.a,{key:t,id:r},n.createElement(Ye.a,{className:Ke()({active:h===t}),onClick:function(){f(t)}},a))}))),n.createElement(Xe.a,{activeTab:h,className:Ke()({"with-separator":l})},n.createElement(n.Fragment,null,i.map((function(e,t){var a=e.content;return n.createElement(Ze.a,{key:t,tabId:t},h===t&&(!!m||a),m?a:"")})))))}var at=a(123),nt=a(122),rt=a.n(nt),it=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={hasError:!1,error:""},n}return Object(s.a)(a,[{key:"componentDidCatch",value:function(e){this.setState({hasError:!0});var t=e.toString();this.setState({error:t}),this.props.onErr&&this.props.onErr(t)}},{key:"render",value:function(){var e=this;return this.state.hasError?r.a.createElement("div",null,r.a.createElement("p",null,this.props.errMessage?this.props.errMessage:this.state.error),r.a.createElement("button",{onClick:function(){e.setState({hasError:!1,error:""}),e.props.onErr&&e.props.onErr("")}},"Try Again")):this.props.children}}]),a}(r.a.Component),ot=Object(y.c)(v.a);function ct(e,t){var a;try{a=JSON.parse(e)}catch(n){return n.toString()}return"string"===typeof a?"Received a string instead of object.":""}var lt=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={formData:{},formToggle:!0,outputToggle:!1,schemaFormErrorFlag:"",validFormInput:!1,editorWidth:700,submissionData:{}},n}return Object(s.a)(a,[{key:"updateSchema",value:function(e){this.props.onChange&&this.props.onChange(e,this.props.uischema)}},{key:"updateUISchema",value:function(e){this.props.onChange&&this.props.onChange(this.props.schema,e)}},{key:"updateFormData",value:function(e){try{var t=JSON.parse(e);this.setState({formData:t,schemaFormErrorFlag:""})}catch(a){this.setState({schemaFormErrorFlag:a.toString()})}}},{key:"render",value:function(){var e=this,t=ct(this.props.schema,this.props.lang),a=ct(this.props.uischema,this.props.lang);return r.a.createElement("div",{style:{width:this.props.width?this.props.width:"100%",height:this.props.height?this.props.height:"500px"},className:"playground-main"},r.a.createElement(u.a,{style:{display:""===t?"none":"block"},color:"danger"},r.a.createElement("h5",null,"Schema:")," ",t),r.a.createElement(u.a,{style:{display:""===a?"none":"block"},color:"danger"},r.a.createElement("h5",null,"UI Schema:")," ",a),r.a.createElement(u.a,{style:{display:""===this.state.schemaFormErrorFlag?"none":"block"},color:"danger"},r.a.createElement("h5",null,"Form:")," ",this.state.schemaFormErrorFlag),r.a.createElement(tt,{tabs:[{name:"Visual Form Builder",id:"form-builder",content:r.a.createElement("div",{className:"tab-pane",style:{height:this.props.height?this.props.height:"500px"}},r.a.createElement(it,{onErr:function(){}},r.a.createElement(Pe,{schema:this.props.schema,uischema:this.props.uischema,onChange:function(t,a){e.props.onChange&&e.props.onChange(t,a)}})))},{name:"Preview Form",id:"preview-form",content:r.a.createElement("div",{className:"tab-pane",style:{height:this.props.height?this.props.height:"500px"}},r.a.createElement(it,{onErr:function(t){e.setState({schemaFormErrorFlag:t})},errMessage:"Error parsing JSON Schema"},r.a.createElement(ot,{schema:""===t?JSON.parse(this.props.schema):{},uiSchema:""===a?JSON.parse(this.props.uischema):{},onChange:function(t){return e.updateFormData(JSON.stringify(t.formData))},formData:this.state.formData,submitButtonMessage:"Submit",onSubmit:function(t){e.setState({validFormInput:!0,outputToggle:!0,submissionData:t})}})),r.a.createElement(p.a,{isOpen:this.state.outputToggle},r.a.createElement(h.a,null,"Form output preview"),r.a.createElement(f.a,null,r.a.createElement("div",{className:"editor-container"},r.a.createElement(it,{onErr:function(){},errMessage:"Error parsing JSON Schema Form output"},r.a.createElement("h4",null,"Output Data"),r.a.createElement(at.a,{id:"a_unique_id",placeholder:this.state.submissionData,locale:rt.a,height:"550px"})),r.a.createElement("br",null))),r.a.createElement(g.a,null,r.a.createElement(b.a,{onClick:function(){e.setState({outputToggle:!1})},color:"secondary"},"Close"))))},{name:"Edit Schema",id:"editors",content:r.a.createElement("div",{className:"tab-pane",style:{height:this.props.height?this.props.height:"500px",display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{margin:"1em",width:"50em"},className:"editor-container"},r.a.createElement(it,{onErr:function(t){console.error(t),e.updateSchema("{}")},errMessage:"Error parsing JSON Schema input"},r.a.createElement("h4",null,"Data Schema"),r.a.createElement(at.a,{id:"data_schema",placeholder:this.props.schema?JSON.parse(this.props.schema):{},locale:rt.a,height:"550px",onChange:function(t){return e.updateSchema(JSON.stringify(t))}})),r.a.createElement("br",null)),r.a.createElement("div",{style:{margin:"1em",width:"50em"},className:"editor-container"},r.a.createElement(it,{onErr:function(t){console.error(t),e.updateUISchema("{}")},errMessage:"Error parsing JSON UI Schema input"},r.a.createElement("h4",null,"UI Schema"),r.a.createElement(at.a,{id:"ui_schema",placeholder:this.props.uischema?JSON.parse(this.props.uischema):{},locale:rt.a,height:"550px",onChange:function(t){return e.updateUISchema(JSON.stringify(t))}}))))},{name:"Pre-Configured Components",id:"pre-configured",content:r.a.createElement("div",{className:"tab-pane",style:{height:this.props.height?this.props.height:"500px"}},r.a.createElement(it,{onErr:function(){}},r.a.createElement(We,{schema:this.props.schema,uischema:this.props.uischema,onChange:function(t,a){e.props.onChange&&e.props.onChange(t,a)}})))}]}))}}]),a}(r.a.Component),st=Object(w.a)({header:{"& h1":{textAlign:"center",margin:"1em"},"& p":{marginRight:"5em",marginLeft:"5em"}}});function mt(e){var t=e.title,a=r.a.useState("{}"),n=Object(c.a)(a,2),i=n[0],o=n[1],l=r.a.useState("{}"),s=Object(c.a)(l,2),m=s[0],d=s[1],u=st();return r.a.createElement("div",{className:"playground"},r.a.createElement("div",{className:u.header},r.a.createElement("h1",null,t),r.a.createElement("p",null,"Demo app for the"," ",r.a.createElement("a",{href:"https://github.com/ginkgobioworks/react-json-schema-form-builder"},"React JSON Schema Form Builder"),", which allows a user to visually build a form and obtain the JSON Schema corresponding to it"),r.a.createElement("p",null,'The Visual Form Builder tab corresponds to the actual Form Builder component. This reads in code from the JSON Schema, which is stored and updated live in the "Edit Schema" tab, and renders the code as manipulatable form elements. The result of the form is rendered with the material design theme in the Preview Form tab. The Pre-Configured Components tab also demonstrates how the form builder takes advantage of the definitions property of JSON Schema to render definitions.')),r.a.createElement(lt,{lang:"json",schema:i,uischema:m,schemaTitle:"Data Schema",uischemaTitle:"UI Schema",onChange:function(e,t){o(e),d(t)},width:"95%",height:"800px"}))}var dt=function(){return r.a.createElement("body",null,r.a.createElement(mt,{title:"React JSON Schema Form Builder"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement("head",null,r.a.createElement("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossOrigin:"anonymous"}),r.a.createElement("link",{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.11.2/css/all.css"}),r.a.createElement("link",{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.11.2/css/v4-shims.css"})),r.a.createElement(dt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[284,1,2]]]);
//# sourceMappingURL=main.0a3d3c4b.chunk.js.map